<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title># (Java) 추석맞이 String 종합선물세트 | cjlee38</title><meta name=keywords content="null"><meta name=description content="0. 들어가며 : String은 언제 다뤄도 어렵다.
Java 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.
String에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,
도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해
이번 포스팅을 통해 짚어보고자 한다.
1. String String Constant Pool : 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.
즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,
그 값에 대한 &ldquo;포인터&rdquo; 인 셈이다."><meta name=author content="cjlee38"><link rel=canonical href=http://cjlee38.github.io/backup/language/java/2020-10-01-all_of_string_in_java/><link crossorigin=anonymous href=/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://cjlee38.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://cjlee38.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://cjlee38.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://cjlee38.github.io/apple-touch-icon.png><link rel=mask-icon href=http://cjlee38.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="# (Java) 추석맞이 String 종합선물세트"><meta property="og:description" content="0. 들어가며 : String은 언제 다뤄도 어렵다.
Java 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.
String에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,
도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해
이번 포스팅을 통해 짚어보고자 한다.
1. String String Constant Pool : 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.
즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,
그 값에 대한 &ldquo;포인터&rdquo; 인 셈이다."><meta property="og:type" content="article"><meta property="og:url" content="http://cjlee38.github.io/backup/language/java/2020-10-01-all_of_string_in_java/"><meta property="article:section" content="backup"><meta property="article:published_time" content="2020-10-01T16:59:00+00:00"><meta property="article:modified_time" content="2020-10-01T16:59:00+00:00"><meta property="og:site_name" content="cjlee38"><meta name=twitter:card content="summary"><meta name=twitter:title content="# (Java) 추석맞이 String 종합선물세트"><meta name=twitter:description content="0. 들어가며 : String은 언제 다뤄도 어렵다.
Java 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.
String에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,
도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해
이번 포스팅을 통해 짚어보고자 한다.
1. String String Constant Pool : 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.
즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,
그 값에 대한 &ldquo;포인터&rdquo; 인 셈이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Backups","item":"http://cjlee38.github.io/backup/"},{"@type":"ListItem","position":2,"name":"# (Java) 추석맞이 String 종합선물세트","item":"http://cjlee38.github.io/backup/language/java/2020-10-01-all_of_string_in_java/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"# (Java) 추석맞이 String 종합선물세트","name":"# (Java) 추석맞이 String 종합선물세트","description":"0. 들어가며 : String은 언제 다뤄도 어렵다.\nJava 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.\nString에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,\n도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해\n이번 포스팅을 통해 짚어보고자 한다.\n1. String String Constant Pool : 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.\n즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,\n그 값에 대한 \u0026ldquo;포인터\u0026rdquo; 인 셈이다.","keywords":["null"],"articleBody":"0. 들어가며 : String은 언제 다뤄도 어렵다.\nJava 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.\nString에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,\n도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해\n이번 포스팅을 통해 짚어보고자 한다.\n1. String String Constant Pool : 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.\n즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,\n그 값에 대한 “포인터” 인 셈이다.\n이 포인터는 Stack 영역에서 관리된다.\n그렇다면, 그 실제적인 값을 갖고 있는 녀석은 어디에 있을까?\n바로 Heap 영역의 String Constant Pool에 있다.\n다음을 보자.\npublic class Main {   public static void main(String[] args) {  String s1 = \"hello\";  String s2 = \"hello\";  String s3 = new String(\"hello\");  String s4 = new String(\"hello\");   System.out.println(s1 == s2); // true  System.out.println(s1 == s3); // false  System.out.println(s3 == s4); // false   } } 다 같은 “hello” 라는 string을 담고 있는데,\ns1과 s2는 같은 반면, s1과 s3는 다르다. 이에 더해, s3와 s4 또한 다르다.\n왜 이런 차이를 보이는 것일까? 이는 다음의 그림을 보면 알 수 있다.\n{: .alignCenter}\n{: .caption} 사진 출처\n기본적으로, 우리가 String str = \"hello\"; 와 같이 String을 만들면,\n이는 String literal 이라고 부르고, 다음과 같이 동작한다.\n String (constant) Pool 에서, 동일한 String이 있는지 찾는다. 동일한 String을 발견하면, 해당 객체를 가리키도록 한다. 동일한 String을 발견하지 못하면, String Pool에 새로운 String을 만들고 이를 가리킨다.  하지만, String str = new String(\"hello\"); 와 같이 작성하면,\n우리가 일반적으로 관리하는 클래스처럼, Heap 영역에 해당 String을 만들어버린다.\n위 코드의 s3와 s4는 같지 않다고 나온 이유가 이 때문이다.\n따라서, 사람의 입장에서 “String이 같은가요?” 라고 물어보려면, equals() 함수를 사용해야 한다.\nequals() 함수를 따라가보면 다음과 같이 작성되어 있다.\n@HotSpotIntrinsicCandidate  public static boolean equals(byte[] value, byte[] other) {  if (value.length == other.length) {  for (int i = 0; i  value.length; i++) {  if (value[i] != other[i]) {  return false;  }  }  return true;  }  return false;  } String을 initialize 하면, String은 byte[] 라는 배열로 값이 들어가므로,\n비교하고자 하는 value 라는 byte 배열과, 그 대상인 byte[] other 를 하나씩 비교해가면서\n하나라도 다를 경우 false를 return한다.\n어찌되었든, Heap 영역과, 그 안의 String Pool에 String이 저장된다는 것은 알았다.\nString as Immutable : Java에서의 String은 immutable(불변) 이라고 한다. 이게 도대체 무슨 뜻일까?\n바꿔 말해서, String에 값을 변경하면 어떻게 될까?\n다음의 코드를 보자.\npublic class Main {   public static void main(String[] args) {  String s1 = new String(\"hello\");  String s2 = s1;  String s3 = new String(\"helloworld\");  String s4 = \"helloworld\";   System.out.println(s1 == s2); // true   s1 += \"world\";  System.out.println(s1); // helloworld  System.out.println(s2); // hello   System.out.println(s1 == s2); // false  System.out.println(s2 == s3); // false  System.out.println(s1 == s4); // false   } } 만약, String이 mutable, 즉 변경가능한 객체였다면,\ns1 += \"world\"; 라는 덧셈을 하고 나면,\ns2 가 s1 의 값을 가리키고 있으므로,\ns2 또한 “helloworld” 가 되었을 것이다.\n그러나, 실제로는 기존의 s1이 가리키던 객체를 놔버리고,\nworld가 추가된 “helloworld” 객체를 새로 만들어서, 그곳을 가리키게 된다.\n그렇기 때문에, 두 번째 s1 == s2 에서 false를 return 했다.\n또한, s3는 new String으로 String pool 이 아닌 heap 영역에 할당되었기 때문에, 예상한대로 s1과 같지 않았다.\n마지막으로, world가 추가된 s1은 기존의 String pool에 있던 s4와 다르므로,\n덧셈 연산자가 더해진 s1은 heap 영역(not String pool) 에 객체로서 저장된다는 사실을 알 수 있다.\n바꿔 말하면, String은 Immutable 객체이기 때문에, 기존 객체의 값이 변경되지 않고\n새로 만들어서 할당된다는 것을 알 수 있다.\n  Note. 찾다보니, int 같은 primitive type도 immutable인지에 대해서 찾아보았다.\n잠깐 C에서의 예시를 가져와보면, C에서의 primitive data는 mutable 이다.\n#include int main() {  int i = 1;  printf(\"%p\\n\", \u0026i); // 0x7ffd1111f95c   i += 1;  printf(\"%p\\n\", \u0026i); // 0x7ffd1111f95c } 그런데, Java에서의 primitive는 immutable 이라고 한다.\n자세한 내용은 여기를 참고하자.\n누군가는 “Primitive는 mutable, immutable 자체를 따질 수 없다\"고도 한다.\n이 내용은 조금 더 찾아봐야 할 듯 싶다.\n  Heap ↔ String pool : 이렇게 보면 String pool은 무슨 신성불가침의 영역처럼 여겨질 수도 있는데,\n다음과 같이 활용하면, 두 영역을 손쉽게 넘나들 수 있다.\npublic class Main {   public static void main(String[] args) {  String s1 = \"hello\";  String s2 = new String(s1);  String s3 = s2.intern();   System.out.println(s1 == s2); // false  System.out.println(s2 == s3); // false  System.out.println(s1 == s3); // true   } } s1 은 평소처럼 String pool에 등록해서 사용하는 것이다.\ns2 또한, new String으로 만들어주는 방법으로, heap 영역에 할당할 수 있다.\ns3 에서 나타나는 intern()의 역할은,\nheap 영역에 있는 String을 String pool로 등록시켜준다.\n이는 필요에 따라, 적절히 사용하면 된다.\nString, StringBuilder, StringBuffer History : 이제 String이 대충 어떻게 노는 녀석인지는 배웠다.\n근데, StringBuilder, StringBuffer는 왜 생겼을까?\nBefore JDK 1.5, String에 덧셈을 한다는 것은 굉장히 비효율적인 일이었다.\n생각해보자. 앞서서, “hello\"에다가 “world\"를 더해주려면,\n“hello\"를 놔버리고, 새로 만든 “helloworld\"를 가리키도록 하는 일이었다.\n근데 만약, for loop 안에서, 100번을 반복하는 일이 생긴다면 어떻게 될까?\n100번을 놓고, 다시 100번을 가리키도록 하는 불상사가 생길 것이다.\n따라서, 그 전까지는 StringBuffer가 String의 manipulation을 위한 유일한 선택지였다.\n그런데, StringBuffer는 모든 Public method가 동기화 되어야 한다는 단점을 안고 있었다.\n즉, multi-thread가 아닐 때에도, 울며겨자먹기로 StringBuffer를 쓸 수 밖에 없었다.\n효율적인 String의 연산을 위해서, StringBuiler가 JDK 1.5부터 등장하였다.\n이 StringBuilder와 StringBuffer는 Mutable이다.\n역시, 다음의 코드를 보자.\npublic class Main {   public static void main(String[] args) {  StringBuilder sb1 = new StringBuilder();  StringBuilder sb2 = sb1;   sb1.append(\"hello\");  System.out.println(sb1); // hello  System.out.println(sb2); // hello   System.out.println(sb1 == sb2); // true  } } String이었다면 서로 다른 객체라고 false를 던졌을텐데,\nStringBuilder는 mutable이기 때문에 서로 같다는 결과가 나타나는 것을 볼 수 있다.\n그렇다면, String 연산 시에는 String을 무조건 쓰면 안되는 것일까? 그렇지는 않다.\nJDK 1.5 이후로, String의 + 연산도 StringBuilder를 사용하도록 변경되었다.\nComparing : 백문이 불여일견. 정말 StringBuilder를 사용하는지 직접 코드로 속도 비교 테스트를 해보자.\npublic class Main {   public static void main(String[] args) {  int repeat = 100000;  long resultString = testString(repeat);  long resultStringBuilder = testStringBuilder(repeat);  long resultStringBuffer = testStringBuffer(repeat);   System.out.println(\"string : \" + resultString);  System.out.println(\"stringBuilder : \" + resultStringBuilder);  System.out.println(\"stringBuffer : \" + resultStringBuffer);   }   public static long testString(int repeat) {  long start = System.currentTimeMillis();  String str = \"\";  for (int i=0; irepeat; i++) {  str += \"string\";  }  long end = System.currentTimeMillis();  System.out.println(str.length());  return end-start;  }  public static long testStringBuilder(int repeat) {  long start = System.currentTimeMillis();  StringBuilder sbd = new StringBuilder();  for (int i=0; irepeat; i++) {  sbd.append(\"string\");  }  long end = System.currentTimeMillis();  System.out.println(sbd.length());  return end-start;  }   public static long testStringBuffer(int repeat) {  long start = System.currentTimeMillis();  StringBuffer sbf = new StringBuffer();  for (int i=0; irepeat; i++) {  sbf.append(\"string\");  }  long end = System.currentTimeMillis();  System.out.println(sbf.length());  return end-start;  } } 약 10만번의 반복을 테스트해봤는데, 결과는 다음과 같다.\nstring : 10886 stringBuilder : 6 stringBuffer : 8 ???. 뭔가 이상하다.\n검색해보니 StackOverflow에 다음과 같은 답변이 있었다.\nString one = \"abc\"; String two = \"xyz\"; String three = one + two; // 이렇게 쓰면,   String three = new StringBuilder().append(one).append(two).toString(); // 이렇게 컴파일 됩니다. 그러나,   String out = \"\"; for( int i = 0; i  10000 ; i++ ) {  out = out + i; } return out; // 이렇게 작성하면,   String out = \"\"; for( int i = 0; i  10000; i++ ) {  out = new StringBuilder().append(out).append(i).toString(); } return out; // 이렇게 쓰는거랑 똑같습니다. 그러므로, 그냥 StringBuilder를 쓰세요.   StringBuilder out = new StringBuilder(); for( int i = 0 ; i  10000; i++ ) {  out.append(i); } return out.toString(); // 이렇게 결국 StringBuilder를 계속해서 만드는 꼴이므로,\n꼼수 부리지 말고 그냥 StringBuilder를 쓰자.\n대충 정리하면, String, StringBuilder, StringBuffer의 차이점은 다음과 같다.\n    String StringBuilder StringBuffer     Storage String Pool Heap Heap   Modifiable No(immutable) Yes(mutable) Yes(mutable)   Thread safe Yes(immutable이므로) No Yes   Performance Fast(compiled as StringBuilder) Fast (Relatively)Slow    즉,\n String : 연산이 많지 않은 경우, thread-safe 를 원하는 경우. StringBuilder : 연산이 많은 경우, thread 는 상관 없는 경우. StringBuffer : 연산이 많은 경우, thread-safe 를 원하는 경우.  가 되겠다.\nReference  Guide to Java String Constant Pool java String 풀(Pool) String, StringBuffer, StringBuilder의 차이점과 장단점은 뭔가요? Java: String concat vs StringBuilder - optimised, so what should I do?  ","wordCount":"1265","inLanguage":"en","datePublished":"2020-10-01T16:59:00Z","dateModified":"2020-10-01T16:59:00Z","author":{"@type":"Person","name":"cjlee38"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://cjlee38.github.io/backup/language/java/2020-10-01-all_of_string_in_java/"},"publisher":{"@type":"Organization","name":"cjlee38","logo":{"@type":"ImageObject","url":"http://cjlee38.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://cjlee38.github.io/ accesskey=h title="Home (Alt + H)"><img src=http://cjlee38.github.io/assets/icon.jpeg alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://cjlee38.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=http://cjlee38.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://cjlee38.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://cjlee38.github.io/backup/>Backups</a></div><h1 class=post-title># (Java) 추석맞이 String 종합선물세트</h1><div class=post-meta><span title="2020-10-01 16:59:00 +0000 UTC">October 1, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;cjlee38&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/backup/Language/Java/2020-10-01-all_of_string_in_java.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#0-%eb%93%a4%ec%96%b4%ea%b0%80%eb%a9%b0 aria-label="0. 들어가며">0. 들어가며</a></li><li><a href=#1-string aria-label="1. String">1. String</a><ul><li><a href=#string-constant-pool aria-label="String Constant Pool">String Constant Pool</a></li><li><a href=#string-as-immutable aria-label="String as Immutable">String as Immutable</a></li><li><a href=#heap--string-pool aria-label="Heap ↔ String pool">Heap ↔ String pool</a></li></ul></li><li><a href=#string-stringbuilder-stringbuffer aria-label="String, StringBuilder, StringBuffer">String, StringBuilder, StringBuffer</a><ul><li><a href=#history aria-label=History>History</a></li><li><a href=#comparing aria-label=Comparing>Comparing</a><ul><li><a href=#reference aria-label=Reference>Reference</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=0-들어가며>0. 들어가며<a hidden class=anchor aria-hidden=true href=#0-들어가며>#</a></h1><p>: String은 언제 다뤄도 어렵다.<br>Java 에서의 String은 조금 특별한 존재이기 때문에, Python처럼 생각없이 다루면 안된다.</p><p>String에 연산이 많이 들어가는 경우, StringBuilder를 쓰는 경우가 많은데,<br>도대체 어떤 차이가 있는지, String은 어떻게 변환되는지에 대해<br>이번 포스팅을 통해 짚어보고자 한다.</p><h1 id=1-string>1. String<a hidden class=anchor aria-hidden=true href=#1-string>#</a></h1><h2 id=string-constant-pool>String Constant Pool<a hidden class=anchor aria-hidden=true href=#string-constant-pool>#</a></h2><p>: 기본적으로, String은 Primitive Type이 아닌, Reference Type이다.<br>즉, 우리가 바라보고 있는 특정 String은 그 자체로서 값을 갖고 있는 것이 아니고,<br>그 값에 대한 <strong>&ldquo;포인터&rdquo;</strong> 인 셈이다.<br>이 포인터는 <strong>Stack 영역</strong>에서 관리된다.</p><p>그렇다면, 그 실제적인 값을 갖고 있는 녀석은 어디에 있을까?<br>바로 <strong>Heap 영역의 String Constant Pool</strong>에 있다.</p><p>다음을 보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        String s1 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        String s2 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        String s3 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        String s4 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s2<span style=color:#f92672>);</span> <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s3<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s3 <span style=color:#f92672>==</span> s4<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>다 같은 &ldquo;hello&rdquo; 라는 string을 담고 있는데,<br>s1과 s2는 같은 반면, s1과 s3는 다르다. 이에 더해, <strong>s3와 s4 또한 다르다.</strong><br>왜 이런 차이를 보이는 것일까? 이는 다음의 그림을 보면 알 수 있다.</p><p><img loading=lazy src=/assets/images/string-constant-pool-latest.png alt=string_constant_pool>
{: .alignCenter}</p><p>{: .caption}
<a href=https://www.javaguides.net/2018/07/guide-to-java-string-constant-pool.html>사진 출처</a></p><p>기본적으로, 우리가 <code>String str = "hello";</code> 와 같이 String을 만들면,<br>이는 <strong>String literal</strong> 이라고 부르고, 다음과 같이 동작한다.</p><ol><li>String (constant) Pool 에서, 동일한 String이 있는지 찾는다.</li><li>동일한 String을 발견하면, 해당 객체를 가리키도록 한다.</li><li>동일한 String을 발견하지 못하면, String Pool에 새로운 String을 만들고 이를 가리킨다.</li></ol><p>하지만, <code>String str = new String("hello");</code> 와 같이 작성하면,<br>우리가 일반적으로 관리하는 클래스처럼, Heap 영역에 해당 String을 만들어버린다.<br><strong>위 코드의 s3와 s4는 같지 않다고 나온 이유가 이 때문이다.</strong></p><p>따라서, 사람의 입장에서 &ldquo;String이 같은가요?&rdquo; 라고 물어보려면,
equals() 함수를 사용해야 한다.</p><p>equals() 함수를 따라가보면 다음과 같이 작성되어 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@HotSpotIntrinsicCandidate</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> value<span style=color:#f92672>,</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>==</span> other<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> value<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>!=</span> other<span style=color:#f92672>[</span>i<span style=color:#f92672>])</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></div><p>String을 initialize 하면, String은 byte[] 라는 배열로 값이 들어가므로,<br>비교하고자 하는 value 라는 byte 배열과, 그 대상인 byte[] other 를 하나씩 비교해가면서<br><strong>하나라도 다를 경우</strong> false를 return한다.</p><p>어찌되었든, Heap 영역과, 그 안의 String Pool에 String이 저장된다는 것은 알았다.</p><h2 id=string-as-immutable>String as Immutable<a hidden class=anchor aria-hidden=true href=#string-as-immutable>#</a></h2><p>: Java에서의 String은 immutable(불변) 이라고 한다. 이게 도대체 무슨 뜻일까?<br>바꿔 말해서, String에 값을 변경하면 어떻게 될까?</p><p>다음의 코드를 보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        String s1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        String s2 <span style=color:#f92672>=</span> s1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        String s3 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;helloworld&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        String s4 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;helloworld&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s2<span style=color:#f92672>);</span> <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        s1 <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#34;world&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1<span style=color:#f92672>);</span> <span style=color:#75715e>// helloworld
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s2<span style=color:#f92672>);</span> <span style=color:#75715e>// hello
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s2<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s2 <span style=color:#f92672>==</span> s3<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s4<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>만약, String이 mutable, 즉 변경가능한 객체였다면,<br><code>s1 += "world";</code> 라는 덧셈을 하고 나면,<br>s2 가 s1 의 값을 가리키고 있으므로,<br>s2 또한 &ldquo;helloworld&rdquo; 가 되었을 것이다.</p><p>그러나, 실제로는 기존의 s1이 가리키던 객체를 <strong>놔버리고</strong>,<br>world가 추가된 &ldquo;helloworld&rdquo; 객체를 새로 만들어서, 그곳을 가리키게 된다.</p><p>그렇기 때문에, 두 번째 <code>s1 == s2</code> 에서 false를 return 했다.<br>또한, s3는 new String으로 String pool 이 아닌 heap 영역에 할당되었기 때문에, 예상한대로 s1과 같지 않았다.<br>마지막으로, world가 추가된 s1은 기존의 String pool에 있던 s4와 다르므로,</p><p><strong>덧셈 연산자가 더해진 s1은 heap 영역(not String pool) 에 객체로서 저장된다는 사실을 알 수 있다.</strong></p><p><strong>바꿔 말하면, String은 Immutable 객체이기 때문에, 기존 객체의 값이 변경되지 않고</strong><br><strong>새로 만들어서 할당된다는 것을 알 수 있다.</strong></p><hr><blockquote><p>Note. 찾다보니, int 같은 primitive type도 immutable인지에 대해서 찾아보았다.<br>잠깐 C에서의 예시를 가져와보면, C에서의 primitive data는 mutable 이다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>   printf(<span style=color:#e6db74>&#34;%p</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#f92672>&amp;</span>i); <span style=color:#75715e>// 0x7ffd1111f95c
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>   i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>   printf(<span style=color:#e6db74>&#34;%p</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#f92672>&amp;</span>i); <span style=color:#75715e>// 0x7ffd1111f95c
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>그런데, Java에서의 primitive는 immutable 이라고 한다.<br>자세한 내용은 <a href=https://stackoverflow.com/questions/18037082/are-java-primitives-immutable/18037544>여기</a>를 참고하자.<br>누군가는 &ldquo;Primitive는 mutable, immutable 자체를 따질 수 없다"고도 한다.<br>이 내용은 조금 더 찾아봐야 할 듯 싶다.</p></blockquote><hr><h2 id=heap--string-pool>Heap ↔ String pool<a hidden class=anchor aria-hidden=true href=#heap--string-pool>#</a></h2><p>: 이렇게 보면 String pool은 무슨 신성불가침의 영역처럼 여겨질 수도 있는데,<br>다음과 같이 활용하면, 두 영역을 손쉽게 넘나들 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        String s1 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        String s2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>s1<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        String s3 <span style=color:#f92672>=</span> s2<span style=color:#f92672>.</span><span style=color:#a6e22e>intern</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s2<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s2 <span style=color:#f92672>==</span> s3<span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>s1 <span style=color:#f92672>==</span> s3<span style=color:#f92672>);</span> <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>s1 은 평소처럼 String pool에 등록해서 사용하는 것이다.<br>s2 또한, new String으로 만들어주는 방법으로, heap 영역에 할당할 수 있다.<br>s3 에서 나타나는 intern()의 역할은,<br><strong>heap 영역에 있는 String을 String pool로 등록시켜준다.</strong></p><p>이는 필요에 따라, 적절히 사용하면 된다.</p><h1 id=string-stringbuilder-stringbuffer>String, StringBuilder, StringBuffer<a hidden class=anchor aria-hidden=true href=#string-stringbuilder-stringbuffer>#</a></h1><h2 id=history>History<a hidden class=anchor aria-hidden=true href=#history>#</a></h2><p>: 이제 String이 대충 어떻게 노는 녀석인지는 배웠다.<br>근데, StringBuilder, StringBuffer는 왜 생겼을까?</p><p>Before JDK 1.5, String에 덧셈을 한다는 것은 굉장히 비효율적인 일이었다.<br>생각해보자. 앞서서, &ldquo;hello"에다가 &ldquo;world"를 더해주려면,<br>&ldquo;hello"를 놔버리고, 새로 만든 &ldquo;helloworld"를 가리키도록 하는 일이었다.</p><p>근데 만약, for loop 안에서, 100번을 반복하는 일이 생긴다면 어떻게 될까?<br>100번을 놓고, 다시 100번을 가리키도록 하는 <strong>불상사</strong>가 생길 것이다.</p><p>따라서, 그 전까지는 <strong>StringBuffer</strong>가 String의 manipulation을 위한 유일한 선택지였다.<br>그런데, StringBuffer는 <strong>모든 Public method가 동기화 되어야 한다는 단점</strong>을 안고 있었다.<br>즉, multi-thread가 아닐 때에도, 울며겨자먹기로 StringBuffer를 쓸 수 밖에 없었다.</p><p>효율적인 String의 연산을 위해서, <strong>StringBuiler</strong>가 JDK 1.5부터 등장하였다.</p><p>이 StringBuilder와 StringBuffer는 Mutable이다.<br>역시, 다음의 코드를 보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        StringBuilder sb1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        StringBuilder sb2 <span style=color:#f92672>=</span> sb1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        sb1<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;hello&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sb1<span style=color:#f92672>);</span> <span style=color:#75715e>// hello
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sb2<span style=color:#f92672>);</span> <span style=color:#75715e>// hello
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sb1 <span style=color:#f92672>==</span> sb2<span style=color:#f92672>);</span> <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>String이었다면 서로 다른 객체라고 false를 던졌을텐데,<br>StringBuilder는 mutable이기 때문에 서로 같다는 결과가 나타나는 것을 볼 수 있다.</p><p>그렇다면, String 연산 시에는 String을 무조건 쓰면 안되는 것일까? 그렇지는 않다.<br>JDK 1.5 이후로, String의 + 연산도 StringBuilder를 사용하도록 변경되었다.</p><h2 id=comparing>Comparing<a hidden class=anchor aria-hidden=true href=#comparing>#</a></h2><p>: 백문이 불여일견. 정말 StringBuilder를 사용하는지 직접 코드로 속도 비교 테스트를 해보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> repeat <span style=color:#f92672>=</span> 100000<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> resultString <span style=color:#f92672>=</span> testString<span style=color:#f92672>(</span>repeat<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> resultStringBuilder <span style=color:#f92672>=</span> testStringBuilder<span style=color:#f92672>(</span>repeat<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> resultStringBuffer <span style=color:#f92672>=</span> testStringBuffer<span style=color:#f92672>(</span>repeat<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;string : &#34;</span> <span style=color:#f92672>+</span> resultString<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;stringBuilder : &#34;</span> <span style=color:#f92672>+</span> resultStringBuilder<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;stringBuffer : &#34;</span> <span style=color:#f92672>+</span> resultStringBuffer<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>testString</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> repeat<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> start <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        String str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span>0<span style=color:#f92672>;</span> i<span style=color:#f92672>&lt;</span>repeat<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            str <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#34;string&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> end <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>str<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> end<span style=color:#f92672>-</span>start<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>testStringBuilder</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> repeat<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> start <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        StringBuilder sbd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span>0<span style=color:#f92672>;</span> i<span style=color:#f92672>&lt;</span>repeat<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            sbd<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;string&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> end <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sbd<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> end<span style=color:#f92672>-</span>start<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>testStringBuffer</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> repeat<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> start <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        StringBuffer sbf <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuffer<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span>0<span style=color:#f92672>;</span> i<span style=color:#f92672>&lt;</span>repeat<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            sbf<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;string&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> end <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sbf<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> end<span style=color:#f92672>-</span>start<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>약 10만번의 반복을 테스트해봤는데, 결과는 다음과 같다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>string <span style=color:#f92672>:</span> 10886
</span></span><span style=display:flex><span>stringBuilder <span style=color:#f92672>:</span> 6
</span></span><span style=display:flex><span>stringBuffer <span style=color:#f92672>:</span> 8
</span></span></code></pre></div><p>???. 뭔가 이상하다.<br>검색해보니 <a href=https://stackoverflow.com/questions/14927630/java-string-concat-vs-stringbuilder-optimised-so-what-should-i-do>StackOverflow</a>에 다음과 같은 답변이 있었다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String one <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;abc&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>String two <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;xyz&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>String three <span style=color:#f92672>=</span> one <span style=color:#f92672>+</span> two<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 이렇게 쓰면, 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>String three <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>one<span style=color:#f92672>).</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>two<span style=color:#f92672>).</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 이렇게 컴파일 됩니다. 그러나,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>String out <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span><span style=color:#f92672>(</span> <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 10000 <span style=color:#f92672>;</span> i<span style=color:#f92672>++</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    out <span style=color:#f92672>=</span> out <span style=color:#f92672>+</span> i<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> out<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 이렇게 작성하면,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>String out <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span><span style=color:#f92672>(</span> <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 10000<span style=color:#f92672>;</span> i<span style=color:#f92672>++</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    out <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>out<span style=color:#f92672>).</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>i<span style=color:#f92672>).</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> out<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 이렇게 쓰는거랑 똑같습니다. 그러므로, 그냥 StringBuilder를 쓰세요.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>StringBuilder out <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span><span style=color:#f92672>(</span> <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0 <span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 10000<span style=color:#f92672>;</span> i<span style=color:#f92672>++</span> <span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    out<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span>i<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> out<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 이렇게
</span></span></span></code></pre></div><p>결국 StringBuilder를 계속해서 만드는 꼴이므로,<br>꼼수 부리지 말고 그냥 StringBuilder를 쓰자.</p><p>대충 정리하면, String, StringBuilder, StringBuffer의 차이점은 다음과 같다.</p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>String</th><th style=text-align:center>StringBuilder</th><th style=text-align:center>StringBuffer</th></tr></thead><tbody><tr><td style=text-align:center>Storage</td><td style=text-align:center>String Pool</td><td style=text-align:center>Heap</td><td style=text-align:center>Heap</td></tr><tr><td style=text-align:center>Modifiable</td><td style=text-align:center>No(immutable)</td><td style=text-align:center>Yes(mutable)</td><td style=text-align:center>Yes(mutable)</td></tr><tr><td style=text-align:center>Thread safe</td><td style=text-align:center>Yes(immutable이므로)</td><td style=text-align:center>No</td><td style=text-align:center>Yes</td></tr><tr><td style=text-align:center>Performance</td><td style=text-align:center>Fast(compiled as StringBuilder)</td><td style=text-align:center>Fast</td><td style=text-align:center>(Relatively)Slow</td></tr></tbody></table><p>즉,</p><ul><li>String : 연산이 많지 않은 경우, thread-safe 를 원하는 경우.</li><li>StringBuilder : 연산이 많은 경우, thread 는 상관 없는 경우.</li><li>StringBuffer : 연산이 많은 경우, thread-safe 를 원하는 경우.</li></ul><p>가 되겠다.</p><h3 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h3><ul><li><a href=https://www.javaguides.net/2018/07/guide-to-java-string-constant-pool.html>Guide to Java String Constant Pool</a></li><li><a href=http://egloos.zum.com/iilii/v/4427484>java String 풀(Pool)</a></li><li><a href=https://www.slipp.net/questions/271>String, StringBuffer, StringBuilder의 차이점과 장단점은 뭔가요?</a></li><li><a href=https://stackoverflow.com/questions/14927630/java-string-concat-vs-stringbuilder-optimised-so-what-should-i-do>Java: String concat vs StringBuilder - optimised, so what should I do?</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://cjlee38.github.io/tags/null/>null</a></li></ul><nav class=paginav><a class=prev href=http://cjlee38.github.io/backup/algorithm/problem_solving/2020-10-04-problem_solving_12/><span class=title>« Prev Page</span><br><span># 프로그래머스[Lv.3] 단속카메라 ( Java )</span></a>
<a class=next href=http://cjlee38.github.io/backup/algorithm/problem_solving/2020-09-28-problem_solving_10/><span class=title>Next Page »</span><br><span># 백준[No.17144] - 미세먼지 안녕! ( Java )</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on twitter" href="https://twitter.com/intent/tweet/?text=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8&url=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f&hashtags=null"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f&title=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8&summary=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8&source=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f&title=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on whatsapp" href="https://api.whatsapp.com/send?text=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8%20-%20http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share # (Java) 추석맞이 String 종합선물세트 on telegram" href="https://telegram.me/share/url?text=%23%20%28Java%29%20%ec%b6%94%ec%84%9d%eb%a7%9e%ec%9d%b4%20String%20%ec%a2%85%ed%95%a9%ec%84%a0%eb%ac%bc%ec%84%b8%ed%8a%b8&url=http%3a%2f%2fcjlee38.github.io%2fbackup%2flanguage%2fjava%2f2020-10-01-all_of_string_in_java%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://cjlee38.github.io/>cjlee38</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>